{% load static %}
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>厚浦博客</title>
    <link href="{% static 'bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/cl-css.css' %}" rel="stylesheet">
    <link href="{% static 'font-awesome/css/font-awesome.min.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'highlight/styles/railscasts.css' %}">
</head>
<body>
<div id="app">
    <div class="cl-header container-fluid">
        <div class="header-content container">
            <nav class="navbar navbar-expand-lg navbar-light">
                <a class="navbar-brand" href="calmlog-index.html">
                    <img src="{% static 'img/logo.jpg' %}" width="144" height="72" alt="">
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item active">
                            <a class="nav-link" href="calmlog-index.html">首页 <span class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">教程</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">模板</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">日记</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">关于</a>
                        </li>
                        <li class="nav-item">
                            <a href="{% url 'users:login' %}" class="nav-link">登录/注册</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </div>
    <div class="cl-cantainer container" style="margin-top: 60px">
        <form class="col-md-6 offset-md-3" method="post">
            {% csrf_token %}
            <div class="form-group">
                <label for="inputEmail4">账号</label>
                <input type="number" class="form-control" id="mobile" name="mobile" placeholder="请输入手机号"
                       autofocus="autofocus" required v-model="mobile" @blur="check_mobile">
                <small class="form-text text-danger ml-1" v-show="mobile_error">[[mobile_error_message]]</small>
            </div>
            <div class="form-group">
                <label for="id_password">新密码</label>
                <input type="password" class="form-control" id="id_password" name="password" placeholder="请输入密码"
                       required class="form-control" v-model="password" @blur="check_password"/>
                <small class="form-text text-danger ml-1" v-show="password_error">[[password_error_message]]</small>
            </div>
            <div class="form-group">
                <label for="id_password2">确认密码</label>
                <input type="password" id="id_password2" name="password2" placeholder="请输入确认密码" required
                       class="form-control" v-model="password2" @blur="check_password2"/>
                <small class="form-text text-danger ml-1" v-show="password2_error">[[password2_error_message]]</small>
            </div>
            <div class="form-group">
                <label for="id_image_code">图片验证码</label>
                <div class="row">
                    <div class="col-md-8">
                        <input type="text" name="imgage_code" id="id_image_code" placeholder="请输入图片验证码" required
                               class="form-control" v-model="image_code" @blur="check_image_code"/>
                    </div>
                    <div class="col-md-4">
                        <img :src="image_code_url" @click="generate_image_code" alt="图片验证码"
                             style="width: 110px;height: 40px;">
                        <small class="form-text text-danger ml-1"
                               v-show="image_code_error">[[image_code_error_message]]</small>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="id_sms_code">短信验证码</label>
                <div class="row">
                    <div class="col-md-8">
                        <input type="text" name="sms_code" id="id_sms_code" placeholder="请输入短信验证码" required
                               class="form-control" v-model="sms_code" @blur="check_sms_code"/>
                    </div>
                    <div class="col-md-4">
                        <button class="btn btn-info" type="button" @click="send_sms_code">[[sms_code_message]]</button>
                        <small class="form-text text-danger ml-1"
                               v-show="sms_code_error">[[sms_code_error_message]]</small>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-primary btn-block">修改密码</button>
            </div>
        </form>
    </div>
    <div class="container-fluid cl-footer">
        <div class="container">
            <p class="cl-copyright">本设计由简.工作室荣誉出品</p>
            <p class="cl-copyright">copyright @ 2017~2018 简.工作室（www.jeanstudio.cn）</p>
        </div>
    </div>
</div>
<script src="{% static 'jquery/jquery.min.js' %}"></script>
<script src="{% static 'bootstrap/js/bootstrap.min.js' %}"></script>
<script src="{% static 'highlight/highlight.pack.js' %}"></script>
<script src="{% static 'vue/vue-2.5.16.js' %}"></script>
<script src="{% static 'js/host.js' %}"></script>
<script src="{% static 'js/register.js' %}"></script>
<script src="{% static 'vue/axios-0.18.0.min.js' %}"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>